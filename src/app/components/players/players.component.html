<h1 *ngIf="source !== 'team'">Player Rankings</h1>

<div class="flex">
  <mat-form-field appearance="outline" class="select-field">
    <mat-label>Data Source</mat-label>
    <mat-select [(ngModel)]="selectedDataSource" (selectionChange)="onDataSourceChange($event)">
      <mat-option *ngFor="let dataSource of dataSourceOptions" [value]="dataSource.id">{{dataSource.value}}</mat-option>
    </mat-select>
  </mat-form-field>


  <mat-form-field appearance="outline" class="select-field">
    <mat-label>Based On</mat-label>
    <mat-select  [(value)]="basedOn" (selectionChange)="onAverageOrTotalChange($event)">
      <mat-option *ngFor="let option of totalOrAverages" [value]="option">{{option}}</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="toggle-container">
    <mat-label>{{ fantasyViewToggle ? 'Toggle Fantasy View' : 'Toggle Detail View' }}</mat-label>
    <mat-slide-toggle [(ngModel)]="fantasyViewToggle" (change)="onViewToggleChange()">
    </mat-slide-toggle>
  </div>
</div>

<!-- <app-player-table [displayedData]="displayedData" [visibleColumns]="visibleColumns" [standardDeviationColorTable]="standardDeviationColorTable"></app-player-table> -->

<app-crud-table
[tableData]="displayedData" [tableColumns]="visibleColumns" [colorTable]="standardDeviationColorTable" [hasFooter]="hasFooter">
</app-crud-table>